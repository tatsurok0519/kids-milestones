/* ===== sunny, warm UI theme (plain CSS) ===== */
:root{
  /* やわらかいクリーム × サニーオレンジ × はちみつ色 */
  --bg:#fff7e6;          /* クリーム背景 */
  --surface:#ffffff;
  --text:#3b2a18;        /* こげ茶で読みやすく */
  --muted:#7a6b5a;
  --border:#f2e5c6;

  --pri:#f29f05;         /* 主ボタン：オレンジ */
  --pri-600:#e88f00;
  --pri-700:#d07c00;

  --accent:#ffd369;      /* フォーカスや強調に使う“はちみつ色” */
  --accent-600:#f0c24d;

  /* 成功/エラー：やさしめの色味 */
  --ok-bg:#f2f8e9;  --ok-text:#3f6b2a;  --ok-border:#d6ebc0;
  --err-bg:#fff1ec; --err-text:#9b2c10; --err-border:#f7c4b3;

  --radius-lg: 1rem;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
  --shadow-md: 0 10px 20px rgba(240,160,60,.12);
}

/* ベース */
html{scroll-behavior:smooth}
body{
  min-height:100vh;
  background:linear-gradient(180deg,#fffbed 0%, var(--bg) 100%);
  color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  font-family:"Hiragino Kaku Gothic ProN","Yu Gothic","游ゴシック体",Meiryo,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",sans-serif;
}
a{color:#c17400;text-underline-offset:2px}
a:hover{color:#9f5f00;text-decoration:underline}

/* レイアウト */
.container{max-width:64rem;margin:0 auto;padding:0 1rem}
.header-bar{
  background:linear-gradient(180deg,#fffaf0 0%, #ffe7b8 100%);
  border-bottom:1px solid var(--border);
  box-shadow: var(--shadow-sm);
}
.header-inner{
  display:flex;align-items:center;justify-content:space-between;gap:.5rem;
  padding:.85rem 0
}
/* タイトルはアイコンを横並びに添える */
.h1{
  display:flex;align-items:center;gap:.5rem;
  font-size:1.1rem;font-weight:700;margin:0;letter-spacing:.02em;
}

/* セクション & カード */
.h2{font-size:1.25rem;font-weight:700;margin:.25rem 0 .75rem}
.card{
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius-lg);
  box-shadow:var(--shadow-md); padding:1.5rem;
}

/* ボタン */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.35rem;
  padding:.55rem 1rem;font-size:.9rem;font-weight:700;border-radius:.7rem;
  border:1px solid transparent;text-decoration:none;transition:.15s;cursor:pointer;
  box-shadow:0 1px 1px rgba(0,0,0,.04);
}
.btn:focus{outline:none; box-shadow:0 0 0 3px rgba(255,211,105,.35)} /* はちみつ色のフォーカス */
.btn-primary{background:var(--pri);color:#fff}
.btn-primary:hover{background:var(--pri-600)}
.btn-secondary{background:#fff;color:var(--text);border-color:var(--border)}
.btn-secondary:hover{background:#fff8e0}

/* フォーム */
.label{display:block;font-size:.9rem;font-weight:700;color:#6a5a48;margin-bottom:.35rem}
.input,
input[type="text"],input[type="email"],input[type="password"],input[type="search"],
input[type="url"],input[type="number"],input[type="date"],textarea,select{
  width:100%;background:#fff;color:#2a2523;border:1px solid var(--border);border-radius:.7rem;
  padding:.6rem .8rem;font-size:.95rem;outline:none;transition:.15s;
}
.input:focus,input:focus,textarea:focus,select:focus{
  border-color:var(--accent-600); box-shadow:0 0 0 3px rgba(255,211,105,.35);
}
.field_with_errors input,.field_with_errors textarea,.field_with_errors select{
  border-color:#f19999; box-shadow:0 0 0 3px rgba(241,153,153,.25)
}

/* ピル/タグ */
.pill{
  display:inline-flex;align-items:center;gap:.35rem;
  padding:.25rem .6rem;border-radius:999px;font-size:.75rem;font-weight:700;
  background:#fff;border:1px solid var(--border);color:#6b5d54;
}

/* フラッシュ */
.flash{border-radius:.9rem;padding:.8rem 1rem;border:1px solid transparent}
.flash.notice{background:var(--ok-bg);color:var(--ok-text);border-color:var(--ok-border)}
.flash.alert {background:var(--err-bg);color:var(--err-text);border-color:var(--err-border)}

/* 小物 */
.divider{height:1px;background:var(--border);border:0;margin:1rem 0}
.footer{color:var(--muted);font-size:.85rem;padding:1.25rem 0}

/* ==== フォームがカードからはみ出す問題の修正 ==== */
*, *::before, *::after { box-sizing: border-box; }
.input,
input[type="text"], input[type="email"], input[type="password"],
input[type="search"], input[type="url"], input[type="number"], input[type="date"],
input:not([type]), textarea, select {
  width:100%; max-width:100%; box-sizing:border-box;
}
.card { overflow:hidden; }
.card .field { margin-top:.75rem; }
.card .actions { margin-top:1rem; }

/* === 装飾イラスト === */
/* お日さまはタイトル内にインライン配置 */
.sun-inline{
  width:36px;height:auto;
  transform: rotate(-8deg);
  filter: drop-shadow(0 3px 4px rgba(255,170,0,.25));
}
/* 水やりは画面右下に固定 */
.watering-illustration{
  position: fixed; right: 20px; bottom: 20px;
  width: 110px; z-index: 0; opacity: .9;
  filter: drop-shadow(0 6px 12px rgba(240,160,60,.15));
}

/* ======== Mobile-first polish (スマホ最適化の上乗せ) ======== */

/* タップしやすさ（ボタン/入力の最小高さ） */
.btn,
input[type="text"], input[type="email"], input[type="password"],
input[type="search"], input[type="url"], input[type="number"], input[type="date"],
input:not([type]), textarea, select {
  min-height: 44px;              /* iOS推奨タップ領域 */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* 画像は親幅にフィット */
img { max-width: 100%; height: auto; }

/* 共通カードグリッド用 */
.cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: .75rem; }

/* ヘッダーのナビが狭い幅で折り返せるように */
.header-inner nav { display:flex; flex-wrap:wrap; gap:.5rem; justify-content:flex-end; }

/* 余白と文字サイズを小さめ画面で調整 */
@media (max-width: 640px) {
  .container { padding: 0 1rem; }
  .card { padding: 1rem; }
  .h1 { font-size: 1rem; text-align: center; }
  .h2 { font-size: 1.1rem; }

  /* ヘッダーは縦積みにして詰まりを防ぐ */
  .header-inner { flex-direction: column; align-items: stretch; }
  .header-inner nav { justify-content: center; }

  /* カードの最小幅を少し小さくして1列になりにくく */
  .cards-grid { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
}

/* とても狭い幅ではお日さまは非表示（被り防止） */
@media (max-width: 360px) {
  .sun-inline{ display: none; }
}

/* タイトル横の太陽（大きめ） */
.sun-inline{
  width: 110px;         /* ← デスクトップは大きめ（例: 110〜120px） */
  height: auto;
  margin-left: 10px;
  vertical-align: middle;
  opacity: .9;
  filter: drop-shadow(0 4px 8px rgba(240,160,60,.18));
}

/* スマホでは少しだけ小さく */
@media (max-width: 640px){
  .sun-inline{ width: 80px; margin-left: 8px; }
}

/* ===== 子ども切替UI ===== */
.kid-scroll{
  overflow:auto; white-space:nowrap; padding-bottom:.25rem;
  display:flex; gap:.5rem;
}
.kid-chip{
  display:inline-flex; align-items:center; gap:.6rem;
  background:#fff; border:1px solid var(--border);
  padding:.5rem .7rem; border-radius:.9rem; text-decoration:none; color:var(--text);
  box-shadow: var(--shadow-sm);
}
.kid-chip:hover{ background:#fff8e0; }
.kid-chip--active{
  border-color: var(--accent-600);
  box-shadow: 0 0 0 3px rgba(255,211,105,.25);
  background: #fffdf4;
}
.kid-avatar-fallback{
  width:40px; height:40px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background:#fff3d1; color:#9a7b35; font-weight:700;
  border:1px solid var(--border);
}
.kid-meta .kid-name{ font-weight:700; line-height:1.1; }
.kid-meta .kid-age{ font-size:.8rem; color:#7a6b5a; }

/* 表示切り替え（PC/スマホ） */
.only-mobile{ display:none; }
@media (max-width: 640px){
  .only-desktop{ display:none; }
  .only-mobile{ display:block; }
}

.kid-chip.is-active {
  outline: 3px solid rgba(255,211,105,.35); /* はちみつ色のハイライト */
  border-color: var(--pri-600);
}

/* 画面幅で出し分け（PCは横スクロール、スマホはドロップダウン） */
@media (min-width: 641px) { .child-switcher .dropdown-sm { display: none; } }
@media (max-width: 640px) { .child-switcher .row { display: none; } }