<!-- app/views/devise/registrations/edit.html.erb -->
<div class="card">
  <h2 class="h2">アカウント設定</h2>

  <%= render "devise/shared/error_messages", resource: resource %>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="field">
      <label class="label" for="user_name">お名前</label>
      <%= f.text_field :name, class: "input", placeholder: "よしえ / ゆきこ など" %>
    </div>

    <div class="field">
      <label class="label" for="user_email">メールアドレス</label>
      <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "input", placeholder: "you@example.com" %>
    </div>

    <hr class="divider">

    <p style="font-size:.9rem;color:#7b6f69;margin:.25rem 0 .75rem;">
      パスワードを変更しない場合は、以下は空のままでOKです。
    </p>

    <div class="field">
      <label class="label" for="user_password">新しいパスワード</label>
      <%= f.password_field :password, autocomplete: "new-password", class: "input", placeholder: "（変更しない場合は空）" %>
      <% if @minimum_password_length %>
        <small style="color:#7b6f69;">最低 <%= @minimum_password_length %> 文字</small>
      <% end %>
    </div>

    <div class="field">
      <label class="label" for="user_password_confirmation">新しいパスワード（確認）</label>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "input" %>
    </div>

    <div class="field">
      <label class="label" for="user_current_password">現在のパスワード</label>
      <%= f.password_field :current_password, autocomplete: "current-password", class: "input", placeholder: "確認のために入力してください" %>
    </div>

    <div class="actions" style="margin-top:1rem;">
      <%= f.submit "更新する", class: "btn btn-primary" %>
      <%= link_to "戻る", (user_signed_in? ? authenticated_root_path : unauthenticated_root_path), class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>

<div class="card" style="margin-top:1rem;">
  <h3 class="h2" style="font-size:1.1rem;">退会（アカウント削除）</h3>
  <p style="color:#7b6f69;">退会すると、アカウント情報は削除されます。取り消せません。</p>
  <%= button_to "退会する", registration_path(resource_name), method: :delete,
        data: { turbo_confirm: "本当に退会しますか？" },
        class: "btn btn-secondary" %>
</div>